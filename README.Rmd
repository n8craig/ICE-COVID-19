---
title: "ICE COVID-19 EDA"
author: "Nathan Craig"
date: "`r Sys.Date()`"
output:
  html_document:
    css:
    - !expr system.file("rmarkdown/templates/html_vignette/resources/vignette.css",
                         package = "rmarkdown")
    toc: yes
    number_sections: true
    keep_md: yes
bibliography: references.bib
---

# Introduction

This repository is composed of data originally reported on the Immigration and Customs Enforcement Guidance on COVID-19 website. This file presents some of the initial plots and insights that come from exploring these data. Before embarking on that I want to first acknowledge some of the other fine work begin done to track COVID-19 data reported by ICE.

## Other Work on ICE COVID-19 Data

It is important to note that on November 18, 2020, Smart and Garcia [-@smart2020] through the Vera Institute of Justice launched a very fine dashboard of ICE data entitled "[Tracking COVID-19 in Immigration Detention](https://www.vera.org/tracking-covid-19-in-immigration-detention)." Their work also includes a [GitHub](https://github.com/vera-institute/ice-detention-covid) repository. There is also the UCLA Law COVID-19 Behind Bars Data Project which also includes a section on "[COVID-19 in ICE Detention](https://uclacovidbehindbars.org/ice)." This group developed the [`behindbarstools`](https://github.com/uclalawcovid19behindbars/behindbarstools) which is an R package used by the project for pulling, cleaning, wrangling, and visualizing the data they are collecting. Ishan Vedantham Nagpal, who is part of the UCLA project, has a [repository](https://github.com/ivnagpal/ICE-COVID19) that uses python to scrape ICE COVID data.

## AVID's Work on COVID-19

In April of 2020, Advocate Visitors with Immigrants in Detention (AVID) *in the Chihuahuan Desert* began raising concerns about the spread of COVID-19 [@brownvega2020].

On Friday March 13, 2020 ICE suspended family and social visitation. On March 27, 2020 ICE established the Guidance on COVID-19 web page and indicated the site would be updated frequently. Shortly afterwards I began logging the data on a daily basis, occasionally relying on the Internet Archive's Wayback Machine's regular scrapes of the page to pick up days that I missed.

```{r Load Libraries}
# Load Libraries
library(readr)
library(summarytools)
st_options(plain.ascii = FALSE,
           footnote = NA,
           subtitle.emphasis = FALSE,
           round.digits = 2)
library(tidyverse)
library(lubridate)
library(ggplot2)
library(ggstatsplot)
library(knitr)
options(digits=3)
opts_chunk$set(results = 'asis',
               comment = NA,
               prompt = FALSE,
               cache = FALSE)
# Turn off scientific notation
options(digits=5, scipen=15)

```

```{r Load Dataset}
# Load Dataset
df_summary <- read_csv("./data/covid_summaries.csv", 
    col_types = cols(Date = col_date(format = "%m/%d/%Y"), 
        `Total Deaths` = col_double(), `Total COVID-19 Confirmed in Custody` = col_double()))
```

```{r ICE Detention Population}

# ICE Detention Population Over Time
ggplot(df_summary, aes(x=Date, y=`Total Detained`))+
  geom_line()+
  geom_point()+
  geom_smooth()+
  labs(
    title = "ICE Detention Population Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )

```

```{r Total Confirmed COVID-19}
# Total Confirmed COVID-19 Over Time
ggplot(df_summary, aes(x=Date, y=`Total COVID-19 Confirmed in Custody`))+
  geom_line()+
  geom_smooth()+
   labs(
    title = "Total Number of Confirmed COVID-19 Cases in ICE Detention Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )

```

```{r Ratio Confirmed by Total Detained}
# Ratio Confirmed by Total Detained
df_summary %>% 
  mutate(`Confirmed Detained Ratio` = `Total COVID-19 Confirmed in Custody`/`Total Detained`) %>%
  ggplot(aes(x=Date, y=`Confirmed Detained Ratio`))+

  geom_line()+
  geom_smooth()+
   labs(
    title = "Ratio of Confirmed COVID-19 Cases in ICE Detention by \nTotal ICE Detention Population Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )

```

```{r Cumulative COVID-19}
# Cumulative COVID-19
ggplot(df_summary, aes(x=Date, y=`Total Cumulative COVID-19`))+
  geom_line()+
  geom_smooth()+
   labs(
    title = "Cumulative COVID-19 Cases in ICE Detention Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )

```

```{r Total COVID-19 Tests}
# Total COVID-19 Tests
ggplot(df_summary, aes(x=Date, y=`Total Tested`))+
  geom_line()+
  geom_smooth()+
   labs(
    title = "Total Number of COVID-19 Tests in ICE Detention Population Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )

```

```{r Total Deaths in ICE Custody}
# Total Deaths in ICE Custody
ggplot(df_summary, aes(x=Date, y=`Total Deaths`))+
  geom_line()+
  geom_smooth()+
   labs(
    title = "Total Number of Deaths in ICE Detention Over Time",
    subtitle = "Smoothed trend line added",
    caption = "Data source: https://www.ice.gov/coronavirus"
  )
```

# References
